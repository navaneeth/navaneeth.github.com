<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.83.1"><meta name=viewport content="width=device-width,initial-scale=1"><title>document.ready() handler not getting fired Rails4 &#183; {love to code}</title><meta name=description content><link type=text/css rel=stylesheet href=https://navaneeth.github.io/css/print.css media=print><link type=text/css rel=stylesheet href=https://navaneeth.github.io/css/poole.css><link type=text/css rel=stylesheet href=https://navaneeth.github.io/css/syntax.css><link type=text/css rel=stylesheet href=https://navaneeth.github.io/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png></head><body><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://navaneeth.github.io/><h1>{love to code}</h1></a><p class=lead></p></div><nav><ul class=sidebar-nav><li><a href=https://navaneeth.github.io/>Home</a></li><li><a href=https://github.com/navaneeth/>Github</a></li><li><a href=https://twitter.com/navaneeth>Twitter</a></li></ul></nav><p>&copy; 2021. All rights reserved.</p></div></aside><main class="content container"><div class=post><h1>document.ready() handler not getting fired Rails4</h1><time datetime=2014-11-18T12:55:32+0530 class=post-date>Tue, Nov 18, 2014</time><p>Rails4 uses a gem called <a href=https://github.com/rails/turbolinks>turbolinks</a> which makes following links on the web application faster. This gem is added to the Gemfile by default when a new rails project is initialized. However, there are few side effects this can cause.</p><p>Consider the following JS, added into app/assets/javascripts/projects.js:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#a6e22e>$</span>(<span style=color:#66d9ef>function</span> () {
  <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;#startDate&#39;</span>).<span style=color:#a6e22e>datetimepicker</span>({
		<span style=color:#a6e22e>pickTime</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>
	});
});
</code></pre></div><p>This looks alright, but won&rsquo;t work as expected.</p><p>When rails navigates to the page following a link, turbolink comes into picture and makes it faster by caching the JS contents. This leads into the ready handler not being fired. Which means, the datetimepicker used in the above example won&rsquo;t work without a full page refresh.</p><p>Luckily, this can be fixed by using <a href=https://github.com/kossnocorp/jquery.turbolinks>jquery.turbolinks</a> gem which works with turbolinks gem ensures the ready handlers are called.</p></div></main></body></html>